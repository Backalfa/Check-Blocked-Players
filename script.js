// ==UserScript==
//name         Check % Blocked Players
//author       Im Kumin
//version      2.1
//author       Always Alone AKA Alfa
//include      **screen=info_player&id*
//==/UserScript==


const _0x5b6764=_0x23fe;(function(_0x4cbd06,_0x7bca9c){const _0x32f6c3=_0x23fe,_0x75d8ed=_0x4cbd06();while(!![]){try{const _0x3520f7=-parseInt(_0x32f6c3(0x17e))/0x1*(-parseInt(_0x32f6c3(0x16d))/0x2)+parseInt(_0x32f6c3(0x168))/0x3*(-parseInt(_0x32f6c3(0x15a))/0x4)+-parseInt(_0x32f6c3(0x178))/0x5+-parseInt(_0x32f6c3(0x182))/0x6*(parseInt(_0x32f6c3(0x14e))/0x7)+parseInt(_0x32f6c3(0x18d))/0x8+-parseInt(_0x32f6c3(0x16f))/0x9*(-parseInt(_0x32f6c3(0x179))/0xa)+-parseInt(_0x32f6c3(0x153))/0xb*(-parseInt(_0x32f6c3(0x15d))/0xc);if(_0x3520f7===_0x7bca9c)break;else _0x75d8ed['push'](_0x75d8ed['shift']());}catch(_0x320e8d){_0x75d8ed['push'](_0x75d8ed['shift']());}}}(_0x37ad,0x61ebd));let blockPercentage=0x14,blockRatio=blockPercentage/0x64+0x1,playerName=jQuery(_0x5b6764(0x173))[_0x5b6764(0x18e)]()[_0x5b6764(0x16e)](),playerposition=jQuery(_0x5b6764(0x156))[_0x5b6764(0x18e)]()[_0x5b6764(0x16e)](),playerPoints=parseInt(jQuery(_0x5b6764(0x15e))[_0x5b6764(0x18e)]()[_0x5b6764(0x16e)]()[_0x5b6764(0x161)]('.','')),playerDown=parseInt(playerPoints/blockRatio),playerUp=parseInt(playerPoints*blockRatio),missaoplayer='<div\x20class=\x22quest\x20opened\x22\x20id=\x22player20\x22\x20style=\x22background-image:\x20url(\x27https://dspt.innogamescdn.com/asset/'+game_data[_0x5b6764(0x165)][_0x5b6764(0x175)]('\x20')[0x0]+_0x5b6764(0x18c);$(_0x5b6764(0x181))['eq'](0x0)[_0x5b6764(0x177)](missaoplayer);function _0x23fe(_0x38c1b2,_0x2b1f9e){const _0x37ad50=_0x37ad();return _0x23fe=function(_0x23fed2,_0x5aadfd){_0x23fed2=_0x23fed2-0x14e;let _0x53030e=_0x37ad50[_0x23fed2];return _0x53030e;},_0x23fe(_0x38c1b2,_0x2b1f9e);}let boxplayer=document[_0x5b6764(0x15b)]('#player20');function _0x37ad(){const _0x131be9=['name','/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','%C3%BA','click','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22><a>','10472zOLGRJ','%2A','tribe','host','/map/ally.txt','11jDhDIE','div','content','#player_info\x20tbody\x20tr:eq(3)\x20td:eq(1)','points','village','show','1954164clFpxu','querySelector','%C3%A1','10064700VoHKqA','#player_info\x20tbody\x20tr:eq(2)\x20td:eq(1)','\x22>Send\x20Message</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','location','replaceAll','/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','</a></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','version','btn-confirm-yes','innerHTML','3HLUeiH','&screen=mail&mode=new&player=','&name=','<div>\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20align=center>Blocked\x20Players</h1>\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22player\x22\x20class=\x22vis\x22\x20align=center>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Rank</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','2frmXPj','trim','207goCNyl','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/map/player.txt','length','#player_info\x20tbody\x20tr:eq(0)\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','split','getElementById','prepend','1052130EqfyUO','133620csVsgs','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','/graphic/icons/map2.png\x22\x20alt=\x22\x22>\x20Villages</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/graphic/icons/map2.png\x22\x20alt=\x22\x22>Message</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20','addEventListener','20375UBeDjc','atmw','%C3%A9','.questlog','3216TJAEZI','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20target=\x22_blank\x22\x20href=\x22/game.php?village=','%3F','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20target=\x22_blank\x22\x20href=\x22/game.php?village=','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22points\x20to\x20insert\x22\x20id=\x22numbers\x22\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Minimum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Maximum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','get','createElement','aldeias','%C3%AA','\x0a\x09\x20\x20\x20<h1\x20align=center>Attackable\x20Table</h1><br>\x0a\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22atmw\x22\x20class=\x22vis\x22\x20align=center>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22120\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/graphic/unit/att.png\x27);\x22><div\x20class=\x22quest_progress\x22></div><div\x20class=\x22quest_new\x20pt\x22>Novo</div></div>','5883856GgBSeJ','text','https://','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x09\x09\x09\x09\x20\x20\x20\x20<a\x20class=\x22btn\x22\x20id=\x22confir\x22>Submit</a>\x09\x09\x09\x20\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20</table>\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x37ad=function(){return _0x131be9;};return _0x37ad();}boxplayer&&boxplayer[_0x5b6764(0x17d)]('click',createInterface);function onClickGenerateBtn(_0x435968,_0x237c45,_0x2166e6){const _0x46b8ae=_0x5b6764;jQuery(this)['addClass'](_0x46b8ae(0x166));const _0x2cdba9=_0x46b8ae(0x18b)+game_data['version'][_0x46b8ae(0x175)]('\x20')[0x0]+_0x46b8ae(0x162)+game_data[_0x46b8ae(0x165)]['split']('\x20')[0x0]+_0x46b8ae(0x170)+game_data[_0x46b8ae(0x165)][_0x46b8ae(0x175)]('\x20')[0x0]+'/graphic/icons/account.png\x22\x20alt=\x22\x22>\x20Tribe</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/'+game_data[_0x46b8ae(0x165)][_0x46b8ae(0x175)]('\x20')[0x0]+_0x46b8ae(0x17b)+game_data[_0x46b8ae(0x165)][_0x46b8ae(0x175)]('\x20')[0x0]+_0x46b8ae(0x17c);Dialog[_0x46b8ae(0x159)](_0x46b8ae(0x155),_0x2cdba9),fetchPlayers();}function createInterface(){const _0xbf77c0=_0x5b6764;var _0x548719=document[_0xbf77c0(0x188)](_0xbf77c0(0x154));htmlString=_0xbf77c0(0x16b)+game_data[_0xbf77c0(0x165)][_0xbf77c0(0x175)]('\x20')[0x0]+_0xbf77c0(0x192)+game_data[_0xbf77c0(0x165)]['split']('\x20')[0x0]+_0xbf77c0(0x16c)+game_data[_0xbf77c0(0x165)][_0xbf77c0(0x175)]('\x20')[0x0]+_0xbf77c0(0x195)+playerName+_0xbf77c0(0x163)+playerposition+_0xbf77c0(0x17a)+playerPoints+_0xbf77c0(0x186)+playerDown+_0xbf77c0(0x17a)+playerUp+_0xbf77c0(0x190),_0x548719[_0xbf77c0(0x167)]=htmlString,content_value['prepend'](_0x548719['firstChild']);let _0x24924f=document[_0xbf77c0(0x15b)]('#confir');_0x24924f&&_0x24924f[_0xbf77c0(0x17d)](_0xbf77c0(0x194),onClickGenerateBtn);}function fetchally(){const _0x6fd466=_0x5b6764,_0x4f3cc0=_0x6fd466(0x18f)+window[_0x6fd466(0x160)]['host']+_0x6fd466(0x152);$[_0x6fd466(0x187)](_0x4f3cc0,function(_0x22bfa0){const _0x1f45c6=_0x6fd466,_0x422704=_0x22bfa0['split']('\x0a');for(let _0x23b6f9=0x0;_0x23b6f9<_0x422704['length'];_0x23b6f9++){const _0x4f6d82=_0x422704[_0x23b6f9][_0x1f45c6(0x175)](','),_0x4a60d5={'id':_0x4f6d82[0x0],'name':_0x4f6d82[0x1],'tags':_0x4f6d82[0x2],'members':_0x4f6d82[0x3],'villages':_0x4f6d82[0x4],'points':_0x4f6d82[0x5],'all_points':_0x4f6d82[0x6],'rank':_0x4f6d82[0x7]};}});}function fetchPlayers(){const _0x421e40=_0x5b6764,_0x24aac5=_0x421e40(0x18f)+window['location'][_0x421e40(0x151)]+_0x421e40(0x171);$['get'](_0x24aac5,function(_0x3eb678){const _0x1c4579=_0x421e40,_0x1ee273=_0x3eb678[_0x1c4579(0x175)]('\x0a');for(let _0x167c62=0x0;_0x167c62<_0x1ee273[_0x1c4579(0x172)];_0x167c62++){const _0x5dc5a6=_0x1ee273[_0x167c62][_0x1c4579(0x175)](','),_0x4886e3={'id':_0x5dc5a6[0x0],'name':_0x5dc5a6[0x1],'tribe':_0x5dc5a6[0x2],'aldeias':_0x5dc5a6[0x3],'points':_0x5dc5a6[0x4],'rank':_0x5dc5a6[0x5]};let _0x488290=parseInt(document[_0x1c4579(0x15b)]('#numbers')['value']),_0x6c4ee4=parseInt(playerDown+_0x488290),_0x5745b6=parseInt(playerUp+_0x488290);if(_0x4886e3[_0x1c4579(0x191)]==playerName)continue;if(_0x4886e3[_0x1c4579(0x157)]<=parseInt(_0x5745b6)&&_0x4886e3['points']>=parseInt(_0x6c4ee4))addPlayerToTable(_0x1c4579(0x17f),_0x4886e3);}});}function comparfetch(_0x237c9f,_0x4b295d){let _0x336d24=function(){if(_0x237c9f['tribe']==_0x4b295d['id'])return _0x4b295d['tags'];};fetchally(),fetchPlayers();}function addPlayerToTable(_0x4f1e8a,_0x1bc0ce){const _0x59dc1e=_0x5b6764;console['log'](_0x1bc0ce),document[_0x59dc1e(0x176)](_0x4f1e8a)['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20target=\x22_blank\x22\x20href=\x22/game.php?village='+game_data[_0x59dc1e(0x158)]['id']+'&screen=info_player&id='+_0x1bc0ce['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bc0ce[_0x59dc1e(0x191)][_0x59dc1e(0x161)]('+','\x20')['replaceAll']('%C3%A3','ã')[_0x59dc1e(0x161)](_0x59dc1e(0x180),'é')[_0x59dc1e(0x161)](_0x59dc1e(0x184),'?')[_0x59dc1e(0x161)](_0x59dc1e(0x14f),'*')[_0x59dc1e(0x161)](_0x59dc1e(0x18a),'ê')[_0x59dc1e(0x161)](_0x59dc1e(0x15c),'á')[_0x59dc1e(0x161)](_0x59dc1e(0x193),'ú')+_0x59dc1e(0x174)+_0x1bc0ce['points']+_0x59dc1e(0x185)+game_data['village']['id']+'&screen=info_ally&id='+_0x1bc0ce[_0x59dc1e(0x150)]+_0x59dc1e(0x164)+_0x1bc0ce['tribe']+_0x59dc1e(0x174)+_0x1bc0ce[_0x59dc1e(0x189)]+_0x59dc1e(0x183)+game_data[_0x59dc1e(0x158)]['id']+_0x59dc1e(0x169)+_0x1bc0ce['id']+_0x59dc1e(0x16a)+_0x1bc0ce[_0x59dc1e(0x191)]+_0x59dc1e(0x15f);}
