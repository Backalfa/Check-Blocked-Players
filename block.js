// ==UserScript==
// name         Check % Blocked Players
// author       Always Alone AKA Alfa
// author       Im Kumin
// version      2.3
// ==/UserScript==

const _0x3cf9f8=_0x1e3e;(function(_0x27e05,_0x5a9491){const _0x26d66c=_0x1e3e,_0x5da1d7=_0x27e05();while(!![]){try{const _0x5aa341=-parseInt(_0x26d66c(0x1ef))/0x1+-parseInt(_0x26d66c(0x1f3))/0x2*(-parseInt(_0x26d66c(0x1e6))/0x3)+-parseInt(_0x26d66c(0x1de))/0x4+-parseInt(_0x26d66c(0x1c7))/0x5+-parseInt(_0x26d66c(0x1cf))/0x6*(parseInt(_0x26d66c(0x1ed))/0x7)+-parseInt(_0x26d66c(0x1c2))/0x8+parseInt(_0x26d66c(0x1e4))/0x9*(parseInt(_0x26d66c(0x1d1))/0xa);if(_0x5aa341===_0x5a9491)break;else _0x5da1d7['push'](_0x5da1d7['shift']());}catch(_0x29cd21){_0x5da1d7['push'](_0x5da1d7['shift']());}}}(_0x2ca6,0xa1842));function _0x2ca6(){const _0x2a70b9=['name','prepend','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','2713155vALucz','replaceAll','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x09\x09\x09\x09\x20\x20\x20\x20<a\x20class=\x22btn\x22\x20id=\x22confir\x22>Calculate</a>\x09\x09\x09\x20\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20</table>\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','#player_info\x20tbody\x20tr:eq(0)\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','#confir','%2A','312WVRAcG','createElement','130LTlZfb','innerHTML','val','length','getElementById','show','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Rank</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20','%C3%A1','%C3%AA','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22><a>','/map/player.txt','log','241828nJDkCy','split','</a></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','location','version','querySelector','1775475klPZzC','atmw','157818NfVbeG','click','text','get','village','btn-confirm-yes','\x0a\x09\x20\x20\x20<h1\x20align=center>Attackable\x20Table</h1><br>\x0a\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22atmw\x22\x20class=\x22vis\x22\x20align=center>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22120\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','20202CwfHFR','https://','358369oqRlpS','trim','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','8EUjHhT','%3F','%C3%A9','#numbers','<div>\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20align=center>Calculate\x20Blocked\x20Players</h1>\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22player\x22\x20class=\x22vis\x22\x20align=center>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','points','#player_info\x20tbody\x20tr:eq(2)\x20td:eq(1)','content','8015200hxXAGL','firstChild'];_0x2ca6=function(){return _0x2a70b9;};return _0x2ca6();}let blockPercentage=0x14,blockRatio=blockPercentage/0x64+0x1,playerName=jQuery(_0x3cf9f8(0x1cb))[_0x3cf9f8(0x1e8)]()[_0x3cf9f8(0x1f0)](),playerposition=jQuery('#player_info\x20tbody\x20tr:eq(3)\x20td:eq(1)')[_0x3cf9f8(0x1e8)]()[_0x3cf9f8(0x1f0)](),playerPoints=parseInt(jQuery(_0x3cf9f8(0x1c0))[_0x3cf9f8(0x1e8)]()[_0x3cf9f8(0x1f0)]()[_0x3cf9f8(0x1c8)]('.','')),playerDown=parseInt(playerPoints/blockRatio),playerUp=parseInt(playerPoints*blockRatio);createInterface();function onClickGenerateBtn(_0x3d2b12,_0x5283ba,_0x5b3219){const _0x1b4302=_0x3cf9f8;jQuery(this)['addClass'](_0x1b4302(0x1eb));const _0x2c5975=_0x1b4302(0x1ec)+game_data[_0x1b4302(0x1e2)][_0x1b4302(0x1df)]('\x20')[0x0]+_0x1b4302(0x1f2)+game_data[_0x1b4302(0x1e2)][_0x1b4302(0x1df)]('\x20')[0x0]+_0x1b4302(0x1d8);Dialog[_0x1b4302(0x1d6)](_0x1b4302(0x1c1),_0x2c5975),fetchPlayers();}function _0x1e3e(_0x4fdf9f,_0x10d490){const _0x2ca650=_0x2ca6();return _0x1e3e=function(_0x1e3e04,_0x36d260){_0x1e3e04=_0x1e3e04-0x1bd;let _0x3ae5bc=_0x2ca650[_0x1e3e04];return _0x3ae5bc;},_0x1e3e(_0x4fdf9f,_0x10d490);}function createInterface(){const _0x2a662c=_0x3cf9f8;var _0x4354c6=document[_0x2a662c(0x1d0)]('div');htmlString=_0x2a662c(0x1be)+game_data['version']['split']('\x20')[0x0]+'/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/'+game_data[_0x2a662c(0x1e2)]['split']('\x20')[0x0]+_0x2a662c(0x1d7)+game_data[_0x2a662c(0x1e2)]['split']('\x20')[0x0]+_0x2a662c(0x1db)+playerName+_0x2a662c(0x1e0)+playerposition+_0x2a662c(0x1c6)+playerPoints+'</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22points\x20to\x20insert\x22\x20id=\x22numbers\x22\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Minimum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Maximum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>'+playerDown+'</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>'+playerUp+_0x2a662c(0x1c9),_0x4354c6[_0x2a662c(0x1d2)]=htmlString,content_value[_0x2a662c(0x1c5)](_0x4354c6[_0x2a662c(0x1c3)]);let _0x48eefa=document[_0x2a662c(0x1e3)](_0x2a662c(0x1cd));_0x48eefa&&_0x48eefa[_0x2a662c(0x1ca)](_0x2a662c(0x1e7),onClickGenerateBtn);}function fetchPlayers(){const _0x51fd0d=_0x3cf9f8,_0x3ce032=_0x51fd0d(0x1ee)+window[_0x51fd0d(0x1e1)]['host']+_0x51fd0d(0x1dc);$[_0x51fd0d(0x1e9)](_0x3ce032,function(_0x3ab403){const _0x4e8a0e=_0x51fd0d,_0x5721a0=_0x3ab403[_0x4e8a0e(0x1df)]('\x0a');for(let _0x4a8f2f=0x0;_0x4a8f2f<_0x5721a0[_0x4e8a0e(0x1d4)];_0x4a8f2f++){const _0xaa5fe8=_0x5721a0[_0x4a8f2f][_0x4e8a0e(0x1df)](','),_0xd28c76={'id':_0xaa5fe8[0x0],'name':_0xaa5fe8[0x1],'tribe':_0xaa5fe8[0x2],'aldeias':_0xaa5fe8[0x3],'points':_0xaa5fe8[0x4],'rank':_0xaa5fe8[0x5]};let _0x1c83ba=parseInt(document[_0x4e8a0e(0x1e3)](_0x4e8a0e(0x1bd))['value']);$(_0x4e8a0e(0x1bd))[_0x4e8a0e(0x1d3)]()['trim']()[_0x4e8a0e(0x1d4)]===0x0&&$(_0x4e8a0e(0x1bd))['val'](0x0);let _0x15bdfb=parseInt(playerDown+_0x1c83ba),_0x20f5af=parseInt(playerUp+_0x1c83ba);if(_0xd28c76[_0x4e8a0e(0x1c4)]==playerName)continue;if(_0xd28c76['points']<=parseInt(_0x20f5af)&&_0xd28c76[_0x4e8a0e(0x1bf)]>=parseInt(_0x15bdfb))addPlayerToTable(_0x4e8a0e(0x1e5),_0xd28c76);}});}function addPlayerToTable(_0x360542,_0x4175d2){const _0xf41369=_0x3cf9f8;console[_0xf41369(0x1dd)](_0x4175d2),document[_0xf41369(0x1d5)](_0x360542)[_0xf41369(0x1d2)]+='\x0a\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20target=\x22_blank\x22\x20href=\x22/game.php?village='+game_data[_0xf41369(0x1ea)]['id']+'&screen=info_player&id='+_0x4175d2['id']+_0xf41369(0x1f1)+_0x4175d2[_0xf41369(0x1c4)][_0xf41369(0x1c8)]('+','\x20')[_0xf41369(0x1c8)]('%C3%A3','ã')[_0xf41369(0x1c8)](_0xf41369(0x1f5),'é')['replaceAll'](_0xf41369(0x1f4),'?')[_0xf41369(0x1c8)](_0xf41369(0x1ce),'*')['replaceAll'](_0xf41369(0x1da),'ê')['replaceAll'](_0xf41369(0x1d9),'á')[_0xf41369(0x1c8)]('%C3%BA','ú')+_0xf41369(0x1cc)+_0x4175d2[_0xf41369(0x1bf)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20';}
