// ==UserScript==
// name         Check % Blocked Players
// author       Always Alone AKA Alfa
// author       Im Kumin
// version      2.3
// ==/UserScript==

const _0x1f46b8=_0x2fd4;(function(_0xf78ca1,_0x30c247){const _0x5927fb=_0x2fd4,_0xd90dbd=_0xf78ca1();while(!![]){try{const _0x2b409c=-parseInt(_0x5927fb(0x198))/0x1*(parseInt(_0x5927fb(0x1a7))/0x2)+-parseInt(_0x5927fb(0x17f))/0x3*(parseInt(_0x5927fb(0x194))/0x4)+-parseInt(_0x5927fb(0x1ad))/0x5+parseInt(_0x5927fb(0x1b6))/0x6+parseInt(_0x5927fb(0x183))/0x7*(-parseInt(_0x5927fb(0x18c))/0x8)+parseInt(_0x5927fb(0x1a5))/0x9+parseInt(_0x5927fb(0x193))/0xa;if(_0x2b409c===_0x30c247)break;else _0xd90dbd['push'](_0xd90dbd['shift']());}catch(_0x5ee498){_0xd90dbd['push'](_0xd90dbd['shift']());}}}(_0x5053,0x93ebf));function _0x2fd4(_0x147dfc,_0x27a693){const _0x50537a=_0x5053();return _0x2fd4=function(_0x2fd48f,_0x169db0){_0x2fd48f=_0x2fd48f-0x17c;let _0x266429=_0x50537a[_0x2fd48f];return _0x266429;},_0x2fd4(_0x147dfc,_0x27a693);}let blockPercentage=0x14,blockRatio=blockPercentage/0x64+0x1,playerName=jQuery('#player_info\x20tbody\x20tr:eq(0)\x20th')['text']()[_0x1f46b8(0x1ae)](),playerposition=jQuery(_0x1f46b8(0x19f))[_0x1f46b8(0x19c)]()[_0x1f46b8(0x1ae)](),playerPoints=parseInt(jQuery(_0x1f46b8(0x17e))[_0x1f46b8(0x19c)]()[_0x1f46b8(0x1ae)]()['replaceAll']('.','')),playerDown=parseInt(playerPoints/blockRatio),playerUp=parseInt(playerPoints*blockRatio);createInterface();function onClickGenerateBtn(_0x77cc74,_0x161106,_0x58764b){const _0x398651=_0x1f46b8;jQuery(this)[_0x398651(0x18d)](_0x398651(0x1a3));const _0x565a02=_0x398651(0x1a1)+game_data[_0x398651(0x19a)][_0x398651(0x185)]('\x20')[0x0]+_0x398651(0x187)+game_data[_0x398651(0x19a)][_0x398651(0x185)]('\x20')[0x0]+_0x398651(0x1af)+game_data[_0x398651(0x19a)][_0x398651(0x185)]('\x20')[0x0]+_0x398651(0x195)+game_data[_0x398651(0x19a)][_0x398651(0x185)]('\x20')[0x0]+_0x398651(0x19b)+game_data[_0x398651(0x19a)][_0x398651(0x185)]('\x20')[0x0]+_0x398651(0x186);Dialog['show'](_0x398651(0x197),_0x565a02),fetchPlayers();}function createInterface(){const _0x53f189=_0x1f46b8;var _0x142a01=document['createElement'](_0x53f189(0x1b7));htmlString=_0x53f189(0x190)+game_data[_0x53f189(0x19a)][_0x53f189(0x185)]('\x20')[0x0]+'/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/'+game_data[_0x53f189(0x19a)][_0x53f189(0x185)]('\x20')[0x0]+_0x53f189(0x19d)+game_data[_0x53f189(0x19a)][_0x53f189(0x185)]('\x20')[0x0]+_0x53f189(0x180)+playerName+_0x53f189(0x1b0)+playerposition+_0x53f189(0x181)+playerPoints+_0x53f189(0x1b3)+playerDown+'</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>'+playerUp+_0x53f189(0x18b),_0x142a01[_0x53f189(0x18e)]=htmlString,content_value[_0x53f189(0x17d)](_0x142a01[_0x53f189(0x1a6)]);let _0x20a82d=document[_0x53f189(0x189)](_0x53f189(0x1b8));_0x20a82d&&_0x20a82d[_0x53f189(0x18a)](_0x53f189(0x184),onClickGenerateBtn);}function _0x5053(){const _0x369064=['%C3%A9','getElementById','name','points','location','4432460SVqVYx','trim','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','</a></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','%2A','</td>\x0a\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22points\x20to\x20insert\x22\x20id=\x22numbers\x22\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Minimum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Maximum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','#numbers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','4999722HLthKe','div','#confir','value','%C3%A1','/map/player.txt','village','log','prepend','#player_info\x20tbody\x20tr:eq(2)\x20td:eq(1)','3HoAxdp','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22><a>','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','host','416283miIWBI','click','split','/graphic/icons/map2.png\x22\x20alt=\x22\x22>Message</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20','/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','&screen=info_player&id=','querySelector','addEventListener','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x09\x09\x09\x09\x20\x20\x20\x20<a\x20class=\x22btn\x22\x20id=\x22confir\x22>Calculate</a>\x09\x09\x09\x20\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20</table>\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20','136NdiklF','addClass','innerHTML','length','<div>\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20align=center>Calculate\x20Blocked\x20Players</h1>\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22player\x22\x20class=\x22vis\x22\x20align=center>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%3F','15816950SeNvEo','5300QJxCiG','/graphic/icons/account.png\x22\x20alt=\x22\x22>\x20Tribe</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','replaceAll','content','40519OyxAFG','val','version','/graphic/icons/map2.png\x22\x20alt=\x22\x22>\x20Villages</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','text','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Rank</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','%C3%AA','#player_info\x20tbody\x20tr:eq(3)\x20td:eq(1)','%C3%A3','\x0a\x09\x20\x20\x20<h1\x20align=center>Attackable\x20Table</h1><br>\x0a\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22atmw\x22\x20class=\x22vis\x22\x20align=center>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22120\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','%C3%BA','btn-confirm-yes','https://','6277320EOXmgr','firstChild','30nHtbqV'];_0x5053=function(){return _0x369064;};return _0x5053();}function fetchPlayers(){const _0x1e7a19=_0x1f46b8,_0x57b757=_0x1e7a19(0x1a4)+window[_0x1e7a19(0x1ac)][_0x1e7a19(0x182)]+_0x1e7a19(0x1bb);$['get'](_0x57b757,function(_0x11388f){const _0x37ab3d=_0x1e7a19,_0x39d4ba=_0x11388f[_0x37ab3d(0x185)]('\x0a');for(let _0x4621e0=0x0;_0x4621e0<_0x39d4ba[_0x37ab3d(0x18f)];_0x4621e0++){const _0x234446=_0x39d4ba[_0x4621e0][_0x37ab3d(0x185)](','),_0x4fecd3={'id':_0x234446[0x0],'name':_0x234446[0x1],'tribe':_0x234446[0x2],'aldeias':_0x234446[0x3],'points':_0x234446[0x4],'rank':_0x234446[0x5]};let _0x23ed39=parseInt(document[_0x37ab3d(0x189)](_0x37ab3d(0x1b4))[_0x37ab3d(0x1b9)]);$('#numbers')[_0x37ab3d(0x199)]()[_0x37ab3d(0x1ae)]()[_0x37ab3d(0x18f)]===0x0&&$('#numbers')[_0x37ab3d(0x199)](0x0);let _0x458d9f=parseInt(playerDown+_0x23ed39),_0x4faf2c=parseInt(playerUp+_0x23ed39);if(_0x4fecd3[_0x37ab3d(0x1aa)]==playerName)continue;if(_0x4fecd3[_0x37ab3d(0x1ab)]<=parseInt(_0x4faf2c)&&_0x4fecd3['points']>=parseInt(_0x458d9f))addPlayerToTable('atmw',_0x4fecd3);}});}function addPlayerToTable(_0x3839db,_0x6b597b){const _0x46a130=_0x1f46b8;console[_0x46a130(0x17c)](_0x6b597b),document[_0x46a130(0x1a9)](_0x3839db)['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20target=\x22_blank\x22\x20href=\x22/game.php?village='+game_data[_0x46a130(0x1bc)]['id']+_0x46a130(0x188)+_0x6b597b['id']+_0x46a130(0x191)+_0x6b597b[_0x46a130(0x1aa)][_0x46a130(0x196)]('+','\x20')[_0x46a130(0x196)](_0x46a130(0x1a0),'ã')['replaceAll'](_0x46a130(0x1a8),'é')[_0x46a130(0x196)](_0x46a130(0x192),'?')[_0x46a130(0x196)](_0x46a130(0x1b1),'*')[_0x46a130(0x196)](_0x46a130(0x19e),'ê')[_0x46a130(0x196)](_0x46a130(0x1ba),'á')['replaceAll'](_0x46a130(0x1a2),'ú')+_0x46a130(0x1b5)+_0x6b597b[_0x46a130(0x1ab)]+_0x46a130(0x1b2);}
