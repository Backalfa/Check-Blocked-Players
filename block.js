// ==UserScript==
// name         Check % Blocked Players
// author       Always Alone AKA Alfa
// author       Im Kumin
// version      2.3
// ==/UserScript==

function _0x81d8(_0x5597f5,_0x12069b){const _0x3a138c=_0x3a13();return _0x81d8=function(_0x81d849,_0x1a4d23){_0x81d849=_0x81d849-0x106;let _0x2e73fb=_0x3a138c[_0x81d849];return _0x2e73fb;},_0x81d8(_0x5597f5,_0x12069b);}const _0x2945ca=_0x81d8;(function(_0x24fac2,_0x31dd65){const _0x24c85a=_0x81d8,_0x438700=_0x24fac2();while(!![]){try{const _0x8e791=parseInt(_0x24c85a(0x120))/0x1*(parseInt(_0x24c85a(0x109))/0x2)+parseInt(_0x24c85a(0x125))/0x3+-parseInt(_0x24c85a(0x129))/0x4+parseInt(_0x24c85a(0x106))/0x5*(-parseInt(_0x24c85a(0x13e))/0x6)+parseInt(_0x24c85a(0x111))/0x7+parseInt(_0x24c85a(0x131))/0x8*(parseInt(_0x24c85a(0x13b))/0x9)+-parseInt(_0x24c85a(0x10f))/0xa;if(_0x8e791===_0x31dd65)break;else _0x438700['push'](_0x438700['shift']());}catch(_0x4cbf5e){_0x438700['push'](_0x438700['shift']());}}}(_0x3a13,0x5ca56));let blockRatio=blockPercentage/0x64+0x1,playerName=jQuery(_0x2945ca(0x116))[_0x2945ca(0x122)]()['trim'](),playerposition=jQuery(_0x2945ca(0x13c))['text']()[_0x2945ca(0x12a)](),playerPoints=parseInt(jQuery(_0x2945ca(0x141))[_0x2945ca(0x122)]()['trim']()[_0x2945ca(0x13d)]('.','')),playerDown=parseInt(playerPoints/blockRatio),playerUp=parseInt(playerPoints*blockRatio);createInterface();function onClickGenerateBtn(_0x3175d0,_0x5a5b2c,_0x423ffa){const _0x2177c5=_0x2945ca;jQuery(this)[_0x2177c5(0x137)](_0x2177c5(0x12c));const _0x51f3b3=_0x2177c5(0x112)+game_data[_0x2177c5(0x127)][_0x2177c5(0x133)]('\x20')[0x0]+_0x2177c5(0x10c)+game_data[_0x2177c5(0x127)][_0x2177c5(0x133)]('\x20')[0x0]+_0x2177c5(0x117);Dialog['show'](_0x2177c5(0x13f),_0x51f3b3),fetchPlayers();}function createInterface(){const _0x10ec7d=_0x2945ca;var _0x3df814=document[_0x10ec7d(0x10a)]('div');htmlString='<div>\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20align=center>Calculate\x20Blocked\x20Players</h1>\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22player\x22\x20class=\x22vis\x22\x20align=center>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/'+game_data['version']['split']('\x20')[0x0]+_0x10ec7d(0x11d)+game_data['version'][_0x10ec7d(0x133)]('\x20')[0x0]+_0x10ec7d(0x11c)+game_data[_0x10ec7d(0x127)][_0x10ec7d(0x133)]('\x20')[0x0]+_0x10ec7d(0x10d)+playerName+_0x10ec7d(0x11e)+playerposition+_0x10ec7d(0x13a)+playerPoints+_0x10ec7d(0x130)+playerDown+_0x10ec7d(0x13a)+playerUp+_0x10ec7d(0x11f),_0x3df814[_0x10ec7d(0x140)]=htmlString,content_value['prepend'](_0x3df814[_0x10ec7d(0x128)]);let _0x9a0668=document['querySelector'](_0x10ec7d(0x11a));_0x9a0668&&_0x9a0668[_0x10ec7d(0x10b)](_0x10ec7d(0x108),onClickGenerateBtn);}function _0x3a13(){const _0x36a1f8=['innerHTML','#player_info\x20tbody\x20tr:eq(2)\x20td:eq(1)','230470RrElAu','querySelector','click','4mrkXwl','createElement','addEventListener','/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22><a>','points','6715370FpOPYz','location','4417133fCeWwl','\x0a\x09\x20\x20\x20<h1\x20align=center>Attackable\x20Table</h1><br>\x0a\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22atmw\x22\x20class=\x22vis\x22\x20align=center>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22120\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','%C3%A1','val','https://','#player_info\x20tbody\x20tr:eq(0)\x20th','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20','name','&screen=info_player&id=','#confir','log','/graphic/unit/att.png\x22\x20alt=\x22\x22>\x20Rank</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','/graphic/unit/unit_knight.png\x22\x20alt=\x22\x22>\x20Player</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x22100\x22\x20class=\x22nowrap\x22\x20style=\x22text-align:center\x22><img\x20src=\x22https://dspt.innogamescdn.com/asset/','</a></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x09\x09\x09\x09\x20\x20\x20\x20<a\x20class=\x22btn\x22\x20id=\x22confir\x22>Calculate</a>\x09\x09\x09\x20\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20</table>\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20\x20\x20\x20','323605ePqVZI','village','text','%2A','%C3%AA','624165oRrMgq','host','version','firstChild','2800220AJsvJs','trim','get','btn-confirm-yes','%C3%A3','value','#numbers','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22Increment\x20points\x22\x20id=\x22numbers\x22\x20style=\x22text-align:center\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Minimum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22text-align:\x20center\x22>Maximum\x20Attackable</th>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','3593296RAAOIG','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','split','\x0a\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20target=\x22_blank\x22\x20href=\x22/game.php?village=','</td>\x0a\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','%C3%A9','addClass','getElementById','length','</td>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center\x22>','9YSVWJG','#player_info\x20tbody\x20tr:eq(3)\x20td:eq(1)','replaceAll','24YXDrEs','content'];_0x3a13=function(){return _0x36a1f8;};return _0x3a13();}function fetchPlayers(){const _0x371246=_0x2945ca,_0x30021c=_0x371246(0x115)+window[_0x371246(0x110)][_0x371246(0x126)]+'/map/player.txt';$[_0x371246(0x12b)](_0x30021c,function(_0x7613a2){const _0x2cfb53=_0x371246,_0x469825=_0x7613a2['split']('\x0a');for(let _0x2ff9bd=0x0;_0x2ff9bd<_0x469825[_0x2cfb53(0x139)];_0x2ff9bd++){const _0x537afe=_0x469825[_0x2ff9bd]['split'](','),_0xc86324={'id':_0x537afe[0x0],'name':_0x537afe[0x1],'tribe':_0x537afe[0x2],'aldeias':_0x537afe[0x3],'points':_0x537afe[0x4],'rank':_0x537afe[0x5]};let _0xd54c39=parseInt(document[_0x2cfb53(0x107)](_0x2cfb53(0x12f))[_0x2cfb53(0x12e)]);$('#numbers')['val']()[_0x2cfb53(0x12a)]()[_0x2cfb53(0x139)]===0x0&&$(_0x2cfb53(0x12f))[_0x2cfb53(0x114)](0x0);let _0x385e08=parseInt(playerDown+_0xd54c39),_0x2b9d55=parseInt(playerUp+_0xd54c39);if(_0xc86324[_0x2cfb53(0x118)]==playerName)continue;if(_0xc86324[_0x2cfb53(0x10e)]<=parseInt(_0x2b9d55)&&_0xc86324[_0x2cfb53(0x10e)]>=parseInt(_0x385e08))addPlayerToTable('atmw',_0xc86324);}});}function addPlayerToTable(_0x586571,_0x5111eb){const _0x780b36=_0x2945ca;console[_0x780b36(0x11b)](_0x5111eb),document[_0x780b36(0x138)](_0x586571)[_0x780b36(0x140)]+=_0x780b36(0x134)+game_data[_0x780b36(0x121)]['id']+_0x780b36(0x119)+_0x5111eb['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5111eb[_0x780b36(0x118)][_0x780b36(0x13d)]('+','\x20')[_0x780b36(0x13d)](_0x780b36(0x12d),'ã')[_0x780b36(0x13d)](_0x780b36(0x136),'é')[_0x780b36(0x13d)]('%3F','?')[_0x780b36(0x13d)](_0x780b36(0x123),'*')[_0x780b36(0x13d)](_0x780b36(0x124),'ê')[_0x780b36(0x13d)](_0x780b36(0x113),'á')[_0x780b36(0x13d)]('%C3%BA','ú')+_0x780b36(0x132)+_0x5111eb['points']+_0x780b36(0x135);}
